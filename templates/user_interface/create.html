<!DOCTYPE html> {% load static %}
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css"
    integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

  <!-- Optional theme -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap-theme.min.css"
    integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

  <!-- Latest compiled and minified JavaScript -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js"
    integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
    crossorigin="anonymous"></script>
  <link rel="stylesheet" href="{% static 'createForm/style.css' %}">
  <title>Personal Details</title>
</head>

<body>

  <div id="app">

    <form class="vue-form" method="POST">
      {% csrf_token %}
      <fieldset>
        <div style="margin-left: auto; margin-right: 2%; padding: 0 0 0 635px;">
          <a href="{% url 'logout' %}" class="btn btn-danger"> Logout, {{ user }}</a>
        </div>
        <legend>
          <h3> Personal Details </h3>
        </legend>
        <!-------------------------------- Intro --------------------------------->
        <div>
          <label class="label" for="name">Full Name *</label>
          {{ introFORM.fullName }}
          {% for error in introFORM.fullName.errors %}
          <span class="text-danger ml-2">{{ error }}</span>
          {% endfor %}
        </div>

        <!-- Email -->
        <div>
          <label class="label" for="email">Email *</label>
          {{ introFORM.userEmail }}
          {% for error in introFORM.userEmail.errors %}
          <span class="text-danger ml-2">{{ error }}</span>
          {% endfor %}
        </div>

        <!-- Bio -->
        <div>
          <label class="label" for="textarea">Bio *</label>
          {{ introFORM.bio }}
          {% for error in introFORM.bio.errors %}
          <span class="text-danger ml-2">{{ error }}</span>
          {% endfor %}
        </div>

        <!-- Avatar -->
        <div>
          <label class="label" for="textarea">Avatar *</label>
          {{ introFORM.avatar }}
          {% for error in introFORM.avatar.errors %}
          <span class="text-danger ml-2">{{ error }}</span>
          {% endfor %}
        </div>

        <!-- CV -->
        <div>
          <label class="label" for="textarea">CV *</label>
          {{ introFORM.cv }}
          {% for error in introFORM.cv.errors %}
          <span class="text-danger ml-2">{{ error }}</span>
          {% endfor %}
        </div>

        <!-- About -->
        <div>
          <label class="label" for="textarea">About *</label>
          {{ introFORM.about }}
          {% for error in introFORM.about.errors %}
          <span class="text-danger ml-2">{{ error }}</span>
          {% endfor %}
        </div>

        <!-- Address -->
        <div>
          <label class="label" for="name">Address *</label>
          {{ introFORM.address }}
          {% for error in introFORM.address.errors %}
          <span class="text-danger ml-2">{{ error }}</span>
          {% endfor %}
        </div>

        <!-- Phone Number -->
        <div>
          <label class="label" for="name">Phone Number *</label>
          {{ introFORM.userPhone }}
          {% for error in introFORM.userPhone.errors %}
          <span class="text-danger ml-2">{{ error }}</span>
          {% endfor %}
        </div>

        <!-- GitHub -->
        <div>
          <label class="label" for="email">GitHub</label>
          {{ introFORM.github }}
          {% for error in introFORM.github.errors %}
          <span class="text-danger ml-2">{{ error }}</span>
          {% endfor %}
        </div>

        <!-- LinkedIn -->
        <div>
          <label class="label" for="email">LinkedIn</label>
          {{ introFORM.linkedin }}
          {% for error in introFORM.linkedin.errors %}
          <span class="text-danger ml-2">{{ error }}</span>
          {% endfor %}
        </div>

        <hr>

        <!------------------------------- Education Details ------------------------------------>
        <span>
          <h3>Education Details</h3>
        </span>

        {% include 'user_interface/education.html' %}

        <div id="educations_added"></div>
        <button id="addmore_edu">Add More Education</button>

        <hr>

        <!---------------------------------- Experience Details ----------------------------------->
        <span>
          <h3>Experience Details</h3>
        </span>

        {% include 'user_interface/experience.html' %}

        <ol id="experiences_added"></ol>
        <button id="addmore_exp">Add Another Experience</button>
        <hr>
        <!---------------------------------- Project Details ----------------------------------->
        <span>
          <h3>Projects Details</h3>
        </span>

        {% include 'user_interface/project.html' %}

        <ol id="projects_added"></ol>
        <button id="addmore_projects">Add Another Project</button>
        <hr>
        <!---------------------------------- Skillsets Details ----------------------------------->
        <span>
          <h3>Skillsets Details</h3>
        </span>

        {% include 'user_interface/skillset.html' %}
        <ol id="skillsets_added"></ol>
        <button id="addmore_skills">Add Another Skillset</button>
        <hr>

      </fieldset>
      <button type="submit" class="btn btn-primary">Send Form</button>
      <!-- <input type="submit" value="Send Form"> -->
    </form>

  </div>
  <script type="text/javascript" src="{% static 'createForm/main.js' %}">
    document.addEventListener('DOMContentLoaded', function () {
      const submit = document.querySelector('#submit');

      document.querySelector('#addmore_exp').onclick = () => {
        const li = document.createElement('li');
        li.innerHTML = `{% include 'user_interface/experience.html' %}`;
        document.querySelector('#experiences_added').append(li);
        return false;
      }

      document.querySelector('#addmore_edu').onclick = () => {
        const p = document.createElement('p');
        p.innerHTML = `{% include 'user_interface/education.html' %}`;
        document.querySelector('#educations_added').append(p);
        return false;
      }

      document.querySelector('#addmore_projects').onclick = () => {
        const li = document.createElement('li');
        li.innerHTML = `{% include 'user_interface/project.html' %}`;
        document.querySelector('#projects_added').append(li);
        return false;
      }

      document.querySelector('#addmore_skills').onclick = () => {
        const li = document.createElement('li');
        li.innerHTML = `{% include 'user_interface/skillset.html' %}`;
        document.querySelector('#skillsets_added').append(li);
        return false;
      }

    });
  </script>
</body>

</html>